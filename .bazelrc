common --enable_platform_specific_config --repo_env=LC_ALL="en_US.UTF-8"
startup --windows_enable_symlinks # --host_jvm_args=-Djavax.net.ssl.trustStoreType=WINDOWS-ROOT
startup --output_user_root=C:/bzl
common --show_timestamps --verbose_failures

# Enable Bzlmod for every Bazel command
common --enable_bzlmod --noenable_workspace

common --noincompatible_disallow_empty_glob
# Enable Debug Fission
common --fission=yes
common --compilation_mode=dbg

# Turn on all the strict error checking for CC
common --copt=-g3  # Add more debug stuff
common --copt=-pedantic-errors

common --cxxopt=-std=c++23
common --cxxopt=-Weffc++
common --cxxopt=-Wextra
common --cxxopt=-Wconversion
common --cxxopt=-Wsign-conversion
common --cxxopt=-Werror

# C Options
common --conlyopt=-std=c23  # Needed for c programs and not angering c++ ones



# Visual Studio 2022
## NOTE: We need to have WSL running in the background for some of the compilation process
build:windows --define compiler=vs2022
build:windows --cxxopt=/std:c++20  # Qt requires a C++17 compiler, and a suitable value for __cplusplus.
build:windows --cxxopt=/Zc:__cplusplus #  On MSVC, you must pass the /Zc:__cplusplus option to the compiler.
build:windows --cxxopt=/permissive-  # QtCore/qglobal.h(120): error C2338
build:windows --cxxopt=/Zc:__cplusplus
build:windows --copt=-DWIN32_LEAN_AND_MEAN
build:windows --copt=-DNOGDI
build:windows --host_copt=-DWIN32_LEAN_AND_MEAN
build:windows --host_copt=-DNOGDI